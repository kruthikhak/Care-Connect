<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favorite Hospitals - Care Connect</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        .hospital-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%;
        }
        .hospital-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .card-img-top {
            height: 180px;
            object-fit: cover;
        }
        .favorite-btn {
            position: absolute;
            right: 10px;
            top: 10px;
            background: white;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            z-index: 1;
        }
        .favorite-btn i {
            color: #dc3545;
            font-size: 1.2rem;
        }
        .empty-state {
            text-align: center;
            padding: 80px 20px;
        }
        .empty-state i {
            font-size: 5rem;
            color: #6c757d;
            margin-bottom: 20px;
        }
        .hospital-rating {
            background-color: rgba(255, 193, 7, 0.9);
            color: #212529;
            font-weight: bold;
            position: absolute;
            left: 0;
            bottom: 0;
            padding: 4px 12px;
            border-top-right-radius: 6px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="bi bi-hospital me-2"></i>Care Connect
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/hospitals.html">
                            <i class="bi bi-building me-1"></i>Hospitals
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/dashboard.html">
                            <i class="bi bi-speedometer2 me-1"></i>Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/favorites.html">
                            <i class="bi bi-heart-fill me-1"></i>Favorites
                        </a>
                    </li>
                </ul>
                <div class="d-flex">
                    <div class="user-info text-white me-3" id="userInfo">
                        <img src="https://ui-avatars.com/api/?name=User&size=32&background=random" alt="User" class="rounded-circle me-2" style="width: 32px; height: 32px;" id="userAvatar">
                        <span id="userName">User</span>
                    </div>
                    <div class="dropdown">
                        <button class="btn btn-outline-light dropdown-toggle btn-sm" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-gear"></i>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li><a class="dropdown-item" href="/profile.html"><i class="bi bi-person me-2"></i>Edit Profile</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><button class="dropdown-item" id="signOutButton"><i class="bi bi-box-arrow-right me-2"></i>Sign Out</button></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container py-5">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="mb-0"><i class="bi bi-heart-fill text-danger me-2"></i>Favorite Hospitals</h1>
            <a href="/hospitals.html" class="btn btn-outline-primary">
                <i class="bi bi-building me-2"></i>Explore More Hospitals
            </a>
        </div>

        <div id="favoritesList">
            <!-- Favorites will be loaded here -->
        </div>

        <!-- Empty state (will be shown if no favorites) -->
        <div id="emptyState" class="empty-state">
            <i class="bi bi-heart"></i>
            <h3>No favorite hospitals yet</h3>
            <p class="text-muted">Explore hospitals and add them to your favorites to see them here</p>
            <a href="/hospitals.html" class="btn btn-primary mt-3">
                <i class="bi bi-search me-2"></i>Find Hospitals
            </a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <p>Â© 2023 Care Connect. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-decoration-none text-muted">Terms of Service</a>
                    <span class="mx-2">|</span>
                    <a href="#" class="text-decoration-none text-muted">Privacy Policy</a>
                    <span class="mx-2">|</span>
                    <a href="#" class="text-decoration-none text-muted">Contact Us</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Use demo user data
        const userData = {
            firstName: 'Demo',
            lastName: 'User',
            email: 'demo@example.com',
            profileImageUrl: 'https://ui-avatars.com/api/?name=Demo+User&background=random'
        };
        
        let userId = 'demo-user';

        // Demo favorites data (in a real app, this would come from an API)
        const demoFavorites = [
            {
                id: 1,
                name: "Memorial Hospital",
                image: "https://images.unsplash.com/photo-1586773860418-d37222d8fce3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",
                city: "New York",
                state: "NY",
                specialty: "General",
                rating: 4.8,
                phone: "(212) 555-1234",
                address: "123 Medical Avenue, New York, NY 10001"
            },
            {
                id: 2,
                name: "University Medical Center",
                image: "https://images.unsplash.com/photo-1516549655169-df83a0774514?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",
                city: "Boston",
                state: "MA",
                specialty: "Research",
                rating: 4.6,
                phone: "(617) 555-8765",
                address: "456 Research Blvd, Boston, MA 02115"
            },
            {
                id: 3,
                name: "St. Mary's Children's Hospital",
                image: "https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",
                city: "Chicago",
                state: "IL",
                specialty: "Pediatrics",
                rating: 4.9,
                phone: "(312) 555-9876",
                address: "789 Pediatric Lane, Chicago, IL 60601"
            }
        ];

        // Initialize the page when loaded
        function initialize() {
            try {
                // Update user info in UI
                updateUserInfo(userData);
                
                // Set up event listeners
                setupEventListeners();
                
                // Load favorites
                loadFavorites();
                
            } catch (error) {
                console.error('Error initializing:', error);
                alert('There was a problem loading the favorites. Please try again later.');
            }
        }

        // Update user info in the UI
        function updateUserInfo(user) {
            const userName = document.getElementById('userName');
            const userAvatar = document.getElementById('userAvatar');
            
            if (userName) userName.textContent = user.firstName || 'User';
            if (userAvatar && user.profileImageUrl) userAvatar.src = user.profileImageUrl;
        }

        // Set up event listeners
        function setupEventListeners() {
            // Sign out button
            const signOutButton = document.getElementById('signOutButton');
            if (signOutButton) {
                signOutButton.addEventListener('click', () => {
                    window.location.href = '/';
                });
            }
        }

        // Load favorite hospitals
        function loadFavorites() {
            // In a real app, you would fetch from an API
            // For demo, we'll use the demoFavorites array
            
            const favoritesList = document.getElementById('favoritesList');
            const emptyState = document.getElementById('emptyState');
            
            if (demoFavorites.length === 0) {
                favoritesList.style.display = 'none';
                emptyState.style.display = 'block';
                return;
            }
            
            favoritesList.style.display = 'block';
            emptyState.style.display = 'none';
            
            // Create row for cards
            const row = document.createElement('div');
            row.className = 'row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4';
            
            // Add hospital cards to row
            demoFavorites.forEach(hospital => {
                const col = document.createElement('div');
                col.className = 'col';
                
                col.innerHTML = `
                    <div class="card hospital-card shadow-sm">
                        <div class="position-relative">
                            <img src="${hospital.image}" class="card-img-top" alt="${hospital.name}">
                            <div class="hospital-rating">
                                <i class="bi bi-star-fill me-1 text-warning"></i>${hospital.rating}
                            </div>
                            <button class="favorite-btn" data-hospital-id="${hospital.id}">
                                <i class="bi bi-heart-fill"></i>
                            </button>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">${hospital.name}</h5>
                            <p class="card-text mb-1">
                                <i class="bi bi-geo-alt-fill text-primary me-1"></i>${hospital.city}, ${hospital.state}
                            </p>
                            <p class="card-text mb-3">
                                <i class="bi bi-tag-fill text-secondary me-1"></i>${hospital.specialty}
                            </p>
                            <div class="d-flex justify-content-between">
                                <a href="#" class="btn btn-outline-primary btn-sm" onclick="viewHospitalDetails(${hospital.id})">
                                    <i class="bi bi-info-circle me-1"></i>Details
                                </a>
                                <button class="btn btn-outline-danger btn-sm" onclick="removeFromFavorites(${hospital.id})">
                                    <i class="bi bi-trash me-1"></i>Remove
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                
                row.appendChild(col);
            });
            
            favoritesList.appendChild(row);
            
            // Add event listeners to favorite buttons
            document.querySelectorAll('.favorite-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const hospitalId = btn.getAttribute('data-hospital-id');
                    removeFromFavorites(hospitalId);
                });
            });
        }

        // View hospital details
        function viewHospitalDetails(hospitalId) {
            // In a real app, this would navigate to the hospital details page
            alert(`Viewing details for hospital ${hospitalId}. In a real app, this would take you to the hospital details page.`);
        }

        // Remove from favorites
        function removeFromFavorites(hospitalId) {
            if (confirm('Are you sure you want to remove this hospital from your favorites?')) {
                // In a real app, this would call an API to remove the hospital from favorites
                // For demo, we'll just reload the page
                alert(`Hospital ${hospitalId} removed from favorites. In a real app, this would remove the hospital from your favorites list.`);
                window.location.reload();
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', initialize);
    </script>
</body>
</html> 